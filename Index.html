<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3:34 Clock Tool</title>
  <style>
    :root {
      --bg: #1e1e1e;
      --text: #ffffff;
      --card: #2c2c2c;
      --accent: #00c896;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: Arial, sans-serif;
      padding: 30px;
      text-align: center;
    }

    h1 {
      font-size: 40px;
    }

    .section {
      margin-top: 40px;
      padding: 20px;
      background: var(--card);
      border-radius: 10px;
      display: inline-block;
      min-width: 300px;
    }

    #liveInterval {
      font-size: 48px;
      margin: 10px 0;
    }

    #liveProgress {
      font-size: 20px;
      color: #ccc;
    }

    input[type="time"], input[type="number"] {
      font-size: 20px;
      padding: 8px;
      margin-top: 10px;
      background: #444;
      color: white;
      border: none;
      border-radius: 5px;
    }

    button {
      font-size: 20px;
      padding: 8px 16px;
      margin-top: 10px;
      background-color: var(--accent);
      color: black;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    #convertResult, #reverseResult {
      font-size: 22px;
      margin-top: 20px;
    }

    .toggle {
      position: absolute;
      top: 20px;
      right: 20px;
    }

    label {
      font-size: 14px;
    }
  </style>
</head>
<body>

  <div class="toggle">
    <label>
      <input type="checkbox" id="darkToggle" checked>
      Dark Mode
    </label>
  </div>

  <h1>ðŸ•’ 3:34 Clock</h1>

  <!-- Live Clock Section -->
  <div class="section">
    <h2>Live Clock</h2>
    <div id="liveInterval">Loading...</div>
    <div id="liveProgress"></div>
  </div>

  <!-- Time to Interval -->
  <div class="section">
    <h2>Convert Time â†’ Interval</h2>
    <input type="time" id="inputTime" step="1" value="00:00">
    <br>
    <button onclick="convertTime()">Convert</button>
    <div id="convertResult"></div>
  </div>

  <!-- Interval to Time -->
  <div class="section">
    <h2>Convert Interval â†’ Time</h2>
    <input type="number" id="intervalInput" placeholder="Interval #" min="0">
    <br>
    <button onclick="reverseConvert()">Convert</button>
    <div id="reverseResult"></div>
  </div>

  <script>
    const INTERVAL_SECONDS = 3 * 60 + 34; // 214 seconds

    function updateLiveClock() {
      const now = new Date();
      const secondsSinceMidnight =
        now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();

      const intervalCount = Math.floor(secondsSinceMidnight / INTERVAL_SECONDS);
      const secondsIntoInterval = secondsSinceMidnight % INTERVAL_SECONDS;
      const secondsRemaining = INTERVAL_SECONDS - secondsIntoInterval;

      document.getElementById("liveInterval").textContent = `Interval #: ${intervalCount}`;
      document.getElementById("liveProgress").textContent =
        `${secondsIntoInterval}s into this interval â€” ${secondsRemaining}s left`;
    }

    function convertTime() {
      const input = document.getElementById("inputTime").value;
      if (!input) {
        document.getElementById("convertResult").textContent = "Please enter a valid time.";
        return;
      }

      let [hours, minutes, seconds] = input.split(":").map(Number);
      if (seconds === undefined) seconds = 0;

      const totalSeconds = hours * 3600 + minutes * 60 + seconds;
      const intervalCount = Math.floor(totalSeconds / INTERVAL_SECONDS);
      const secondsIntoInterval = totalSeconds % INTERVAL_SECONDS;
      const secondsRemaining = INTERVAL_SECONDS - secondsIntoInterval;

      document.getElementById("convertResult").textContent =
        `Interval #: ${intervalCount} â€” ${secondsIntoInterval}s into interval (${secondsRemaining}s left)`;
    }

    function reverseConvert() {
      const intervalNum = parseInt(document.getElementById("intervalInput").value);
      if (isNaN(intervalNum) || intervalNum < 0) {
        document.getElementById("reverseResult").textContent = "Enter a valid interval number.";
        return;
      }

      const totalSeconds = intervalNum * INTERVAL_SECONDS;
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      const pad = n => n.toString().padStart(2, '0');
      const timeStr = `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;

      document.getElementById("reverseResult").textContent =
        `Interval #${intervalNum} starts at â†’ ${timeStr}`;
    }

    // Dark mode toggle
    document.getElementById("darkToggle").addEventListener("change", function () {
      if (this.checked) {
        document.documentElement.style.setProperty("--bg", "#1e1e1e");
        document.documentElement.style.setProperty("--text", "#ffffff");
        document.documentElement.style.setProperty("--card", "#2c2c2c");
      } else {
        document.documentElement.style.setProperty("--bg", "#ffffff");
        document.documentElement.style.setProperty("--text", "#000000");
        document.documentElement.style.setProperty("--card", "#eeeeee");
      }
    });

    // Start live clock updates
    updateLiveClock();
    setInterval(updateLiveClock, 1000);
  </script>

</body>
</html>
